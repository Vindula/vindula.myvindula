<html metal:use-macro="here/main_template/macros/master">


	<head>
    		<script type="text/javascript" src="" tal:attributes="src string:${view/static}/js/mascara.js"></script>
        <metal:block fill-slot="top_slot">
            <tal:dummy tal:define="dummy python:request.set('disable_border',1);
                                   disable_column_one python:request.set('disable_plone.leftcolumn',1);
                                   disable_column_two python:request.set('disable_plone.rightcolumn',1);" />
                              
                    </metal:block>

	</head>
	<body metal:fill-slot="content">  
		<meta:macro metal:define-macro="page-view">     
	    	<div tal:define="view python: context.restrictedTraverse('@@myvindulalistuser');
							   member python:context.portal_membership.getAuthenticatedMember();
							   logado python:str(member)!='Anonymous User';
							   configuracao view/get_campos; 
							   form_data view/load_list | python:{};
							   user form_data/username|nothing;
							   panelView python:context.restrictedTraverse('@@myvindula-conf-userpanel')">
												   
				<div id="content">
                    <div id="interna" class="userpage ">
                     <h2 class="h2title">Informa&ccedil;&otilde;es do Perfil</h2>
                    <div class="titulo">
                        <h2>
                            <tal:cond condition="python: view.get_ConfugCampos('name')">
                               <tal:cont content="form_data/name|nothing" />
                            </tal:cond>
                        </h2>
                    </div>
                    
                    <div class="department">
                        <tal:cond condition="python: view.get_ConfugCampos('vin_myvindula_department')">
                            <tal:def define="departamentos python: view.get_department(user)">
                                <tal:rep repeat="departamento departamentos">
                                    <span tal:content="departamento/Title|nothing">Departamento</span>
                                    <span tal:define="cont repeat/departamento/length;
                                                           last repeat/departamento/end"
                                          tal:condition="python: cont > 1 and not last"> | </span>
                                </tal:rep>
                            </tal:def>
                        </tal:cond>
                        <!--span tal:content="form_data/departamento/name|nothing"></span-->
                    </div>
                    
                    
                    <!-- start: Personal Information -->
                    <div id="personal">
                        <div id="photo">
                            <tal:cond condition="python: view.get_ConfugCampos('photograph')">    
                                <img tal:attributes="src string: ${context/portal_url|nothing}/user-image?username=${user}">
                            </tal:cond>
                            <tal:cond condition="python:not view.get_ConfugCampos('photograph')">
                                <div style="width: 150px;height: 150px;"></div>
                            </tal:cond>
                        </div>
                    
                        <div id="data" tal:condition="view/valida_pessoal|nothing">
                            <div class="area"><span>Pessoal</span></div>
                                <table>
                                    <tr tal:condition="python: view.get_ConfugCampos('employee_id')">
                                        <td class="field" tal:content="python: view.get_label_filed('employee_id')">ID</td>
                                        <td class="value" tal:content="form_data/employee_id|nothing"></td>
                                    </tr>
                                    <tr tal:condition="python: view.get_ConfugCampos('nickname')">
                                        <td class="field" tal:content="python: view.get_label_filed('nickname')">Apelido</td>
                                        <td class="value" tal:content="form_data/nickname|nothing"></td>
                                    </tr>
                                    <tr tal:condition="python: view.get_ConfugCampos('pronunciation_name')">
                                        <td class="field" tal:content="python: view.get_label_filed('pronunciation_name')">Pron&uacute;ncia do nome</td>
                                        <td class="value" tal:content="form_data/pronunciation_name|nothing"></td>
                                    </tr>
                                    <tr tal:condition="python: view.get_ConfugCampos('date_birth')">
                                        <td class="field" tal:content="python: view.get_label_filed('date_birth')">Data de anivers&aacute;rio</td>
                                        <td class="value" tal:condition="form_data/date_birth|nothing"
                                                          tal:content="python: form_data.date_birth.strftime('%d/%m')"></td>
                                        <td class="value" tal:condition="not: form_data/date_birth|nothing"></td>                                                 
                                    </tr>
                                    <tr tal:condition="python: view.get_ConfugCampos('email')">
                                        <td class="field" tal:content="python: view.get_label_filed('email')">E-mail</td>
                                        <td class="value" tal:content="form_data/email|nothing"></td>
                                    </tr>
                                </table>
                            <a id="send-mail" tal:condition="form_data/email|python: view.get_ConfugCampos('email')" 
                                              tal:attributes="href string:mailto:${form_data/email|nothing}">Enviar e-mail</a>
                        </div>
                    </div>
                    <!-- end: Personal Information -->
                </div>
               
                <div id="perfil" class="userpage"> <!-- display-none"--> 
                    <!-- start: Others Information -->
                    <!-- Contact -->
                    <div id="grupo" tal:condition="view/valida_contato|nothing">
                        <div class="area"><span >Contato</span></div>
                        <img class="type-info" tal:attributes="src string:${view/static}/images/user_contact.png" />
                        <table>
                            <tr tal:condition="python: view.get_ConfugCampos('phone_number')">
                                <td class="field" tal:content="python: view.get_label_filed('phone_number')">Telefone</td>
                                <td class="value" tal:content="form_data/phone_number|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('cell_phone')">
                                <td class="field" tal:content="python: view.get_label_filed('cell_phone')">Celular</td>
                                <td class="value" tal:content="form_data/cell_phone|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('location')">
                                <td class="field" tal:content="python: view.get_label_filed('location')">Localiza&ccedil;&atilde;o</td>
                                <td class="value" tal:content="form_data/location|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('postal_address')">
                                <td class="field" tal:content="python: view.get_label_filed('postal_address')">Endere&ccedil;o</td>
                                <td class="value" tal:content="form_data/postal_address|nothing"></td>
                            </tr>
                        </table>
                    </div>
                    
                    <!-- Corporative -->
                    <div id="grupo" tal:condition="view/valida_corporativo|nothing" >
                        <div class="area"><span>Corporativo</span></div>
                        <img class="type-info" tal:attributes="src string:${view/static}/images/user_business.png" />
                        <table>
                            <tr tal:condition="python: view.get_ConfugCampos('enterprise')">
                                <td class="field" tal:content="python: view.get_label_filed('enterprise')">Empresa</td>
                                <td class="value" tal:content="form_data/enterprise|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('registration')">
                                <td class="field" tal:content="python: view.get_label_filed('registration')">Registro</td>
                                <td class="value" tal:content="form_data/registration|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('position')">
                                <td class="field" tal:content="python: view.get_label_filed('position')">Cargo</td>
                                <td class="value" tal:content="form_data/position|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('admission_date')">
                                <td class="field" tal:content="python: view.get_label_filed('admission_date')">Data de Admiss&atilde;o</td>
                                <td class="value" tal:condition="form_data/admission_date|nothing"  
                                                  tal:content="python:form_data.admission_date.strftime('%d/%m/%Y')"></td>
                                <td class="value" tal:condition="not: form_data/admission_date|nothing"></td>                              
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('cost_center')">
                                <td class="field" tal:content="python: view.get_label_filed('cost_center')">Centro de custo</td>
                                <td class="value" tal:content="form_data/cost_center|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('profit_centre')">
                                <td class="field" tal:content="python: view.get_label_filed('profit_centre')">Centro de lucro</td>
                                <td class="value" tal:content="form_data/profit_centre|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('special_roles')">
                                <td class="field" tal:content="python: view.get_label_filed('special_roles')">Funções Especiais</td>
                                <td class="value" tal:content="form_data/special_roles|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('organisational_unit')">
                                <td class="field" tal:content="python: view.get_label_filed('organisational_unit')">Unidade organizacional</td>
                                <td class="value" tal:content="form_data/organisational_unit|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('delegations')">
                                <td class="field" tal:content="python: view.get_label_filed('delegations')">Delega&ccedil;&otilde;es</td>
                                <td class="value" tal:content="form_data/delegations|nothing"></td>
                            </tr>   
                            <tr tal:condition="python: view.get_ConfugCampos('reports_to')">
                                <td class="field" tal:content="python: view.get_label_filed('reports_to')">Reporta-se a</td>
                                <td class="value" tal:content="form_data/reports_to|nothing"></td>
                            </tr>
                        </table>
                    </div>  
                    
                    <!-- Others -->
                    <div id="grupo" tal:condition="view/valida_others|nothing">
                        <div  class="area"><span>Outras Informa&ccedil;&otilde;es</span></div>
                        <img class="type-info" tal:attributes="src string:${view/static}/images/user_others.png" />
                        <table>
                            <tr tal:condition="python: view.get_ConfugCampos('committess')">
                                <td class="field" tal:content="python: view.get_label_filed('committess')">Comissão</td>
                                <td class="value" tal:content="form_data/committess|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('projects')">
                                <td class="field" tal:content="python: view.get_label_filed('projects')">Projetos</td>
                                <td class="value" tal:content="form_data/projects|nothing"></td>
                            </tr>           
                            <tr tal:condition="python: view.get_ConfugCampos('personal_information')">
                                <td class="field" tal:content="python: view.get_label_filed('personal_information')">Informa&ccedil;&atilde;o pessoal</td>
                                <td class="value" tal:content="form_data/personal_information|nothing"></td>
                            </tr>
                            <tr tal:condition="python: view.get_ConfugCampos('skills_expertise')">
                                <td class="field" tal:content="python: view.get_label_filed('skills_expertise')">Habilidades</td>
                                <td class="value"><!-- tal:content="form_data/skills_expertise|nothing"-->
                                    <tal:def define="cursos python: view.get_Courses(user)">
                                        <tal:cont condition="cursos">
                                            <tal:rep repeat="curso cursos">
                                                <span tal:content="python:view.getCouses_byID(curso.vin_myvindula_courses_id).title">Departamento</span> <br />
                                            </tal:rep>
                                        </tal:cont>
                                    </tal:def>
                                </td>
                            </tr>                   
                            <tr tal:condition="python: view.get_ConfugCampos('languages')" >
                                <td class="field" tal:content="python: view.get_label_filed('languages')">Idiomas</td>
                                <td class="value"><!--tal:content="form_data/languages|nothing"-->
                                    <tal:def define="languages python: view.get_Languages(user)">
                                        <tal:cont condition="languages">
                                            <tal:rep repeat="language languages">
                                                <span tal:content="python:view.getLanguages_byID(language.vin_myvindula_languages_id).title">Departamento</span> <br />
                                            </tal:rep>
                                        </tal:cont>
                                    </tal:def>
                                </td>
                            </tr>       
                            <tr tal:condition="python: view.get_ConfugCampos('availability')" >
                                <td class="field" tal:content="python: view.get_label_filed('availability')">Disponibilidade</td>
                                <td class="value" tal:content="form_data/availability|nothing"></td>
                            </tr>               
                            <tr tal:condition="python: view.get_ConfugCampos('papers_published')">
                                <td class="field" tal:content="python: view.get_label_filed('papers_published')">Artigos publicados</td>
                                <td class="value" tal:content="form_data/papers_published|nothing"></td>
                            </tr>   
                            <tr tal:condition="python: view.get_ConfugCampos('teaching_research')">
                                <td class="field" tal:content="python: view.get_label_filed('teaching_research')">CPF</td>
                                <td class="value" tal:content="form_data/teaching_research|nothing"></td>
                            </tr>                   
                            <tr tal:condition="python: view.get_ConfugCampos('resume')">
                                <td class="field" tal:content="python: view.get_label_filed('resume')">Resumo</td>
                                <td class="value" tal:content="form_data/resume|nothing"></td>
                            </tr>   
                            <tr tal:condition="python: view.get_ConfugCampos('blogs')">
                                <td class="field" tal:content="python: view.get_label_filed('blogs')">Blogs</td>
                                <td class="value" tal:content="form_data/blogs|nothing"></td>
                            </tr>               
                            <tr tal:condition="python: view.get_ConfugCampos('customised_message')">
                                <td class="field" tal:content="python: view.get_label_filed('customised_message')">Mensagem personalizada</td>
                                <td class="value" tal:content="form_data/customised_message|nothing"></td>
                            </tr>
                        </table>
                    </div>
                    <!-- end: Others Information -->
                </div>				    
				    
			</div>
	    </div>
	</meta:macro>    
</body>
</html>